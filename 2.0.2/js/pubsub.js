define("fb/pubsub",[],function(){"use strict";var n={},t=-1;return{publish:function(t,r){return!!n[t]&&(setTimeout(function(){for(var e=n[t],f=e?e.length:0;f--;)e[f].func(t,r)},0),!0)},subscribe:function(r,e){n[r]||(n[r]=[]);var f=(++t).toString();return n[r].push({token:f,func:e}),f},unsubscribe:function(t,r){var e,f,i=function(){return t&&r&&"function"==typeof r?"topic_fn":"string"==typeof t&&"token"}();if("topic_fn"===i){if(n[t])for(e=0,f=n[t].length;e<f;e++)if(n[t][e].func===r)return n[t].splice(e,1),t}else if("token"===i)for(var u in n)if(n[u])for(e=0,f=n[u].length;e<f;e++)if(n[u][e].token===t)return n[u].splice(e,1),t;return!1}}});